<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¡œë˜ ì¶”ì²œ + ì˜¤ëŠ˜ì˜ ëª…ì–¸</title>

  <!-- ë§ˆë¹„ë…¸ê¸°ì²´(ë¦¬ë³¸ì½”ì–´ ê°ì„±) -->
  <style>
    @font-face {
      font-family: 'MabinogiClassicR';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207-01@1.0/MabinogiClassicR.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --radius: 18px;
      --border: 2px solid #222;
    }

    body{
      font-family: 'MabinogiClassicR', system-ui, sans-serif;
      margin: 0;
      padding: 24px;
      background: #faf7ff;
      color: #111;
    }

    .wrap{
      max-width: 720px;
      margin: 0 auto;
      display: grid;
      gap: 16px;
    }

    .card{
      background: #fff;
      border: var(--border);
      border-radius: var(--radius);
      padding: 18px;
      box-shadow: 0 8px 0 rgba(0,0,0,0.06);
    }

    h1{
      margin: 0 0 6px;
      font-size: 28px;
      letter-spacing: -0.5px;
    }

    .sub{
      margin: 0;
      opacity: 0.8;
      font-size: 14px;
    }

    button{
      font-family: inherit;
      border: var(--border);
      border-radius: 999px;
      padding: 12px 16px;
      font-size: 16px;
      cursor: pointer;
      background: #fff3ff;
      box-shadow: 0 6px 0 rgba(0,0,0,0.08);
      transition: transform 0.06s ease;
    }

    button:active{ transform: translateY(2px); }

    .row{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }

    .balls{
      margin-top: 12px;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .ball{
      width: 54px; height: 54px;
      border-radius: 999px;
      border: var(--border);
      display:grid;
      place-items:center;
      font-weight: 700;
      background: #fff;
      user-select: none;
    }

    .quote{
      margin-top: 10px;
      line-height: 1.6;
      font-size: 16px;
      white-space: pre-wrap;
    }

    .meta{
      margin-top: 8px;
      font-size: 13px;
      opacity: 0.75;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <h1>ğŸ¯ ë¡œë˜ ì¶”ì²œ + ì˜¤ëŠ˜ì˜ ëª…ì–¸</h1>
      <p class="sub">ë²„íŠ¼ í•œ ë²ˆ ëˆ„ë¥´ë©´ 6ê°œ ë²ˆí˜¸ ì¶”ì²œ + ëª…ì–¸ì´ ë§¤ë²ˆ ìƒˆë¡œ ë°”ë€Œì–´ìš” âœ¨</p>
      <div class="row" style="margin-top:12px;">
        <button id="btn">ë²ˆí˜¸ ë½‘ê¸° + ëª…ì–¸ ì—…ë°ì´íŠ¸</button>
        <span id="status" class="meta"></span>
      </div>
    </div>

    <div class="card">
      <h2 style="margin:0;font-size:18px;">ğŸ± ì¶”ì²œ ë¡œë˜ ë²ˆí˜¸ 6ê°œ</h2>
      <div class="balls" id="balls"></div>
      <div class="meta" id="lottoMeta"></div>
    </div>

    <div class="card">
      <h2 style="margin:0;font-size:18px;">ğŸ“œ ì˜¤ëŠ˜ì˜ ëª…ì–¸</h2>
      <div class="quote" id="quote">ë²„íŠ¼ì„ ëˆŒëŸ¬ ëª…ì–¸ì„ ë°›ì•„ë³´ì„¸ìš” ğŸ™‚</div>
      <div class="meta" id="quoteMeta"></div>
    </div>
  </div>

  <script>
    // âœ… 1) ë¡œë˜ ì¶”ì¶œ: 1~45 ì¤‘ë³µ ì—†ì´ 6ê°œ
    function drawLotto() {
      const set = new Set();
      while (set.size < 6) {
        set.add(Math.floor(Math.random() * 45) + 1);
      }
      return Array.from(set).sort((a,b) => a-b);
    }

    function renderBalls(nums) {
      const wrap = document.getElementById("balls");
      wrap.innerHTML = "";
      nums.forEach(n => {
        const div = document.createElement("div");
        div.className = "ball";
        div.textContent = n;
        wrap.appendChild(div);
      });
    }

    // âœ… 2) ëª…ì–¸: API ì‹œë„ â†’ ì‹¤íŒ¨ ì‹œ ë¡œì»¬(ë‚´ì¥) ëª…ì–¸
    const localQuotes = [
      { content: "ì˜¤ëŠ˜ì˜ í•œ ê±¸ìŒì´ ë‚´ì¼ì˜ ë‚˜ë¥¼ ë§Œë“ ë‹¤.", author: "ìµëª…" },
      { content: "ì™„ë²½ë³´ë‹¤ ê¾¸ì¤€í•¨ì´ ë” ê°•í•˜ë‹¤.", author: "ìµëª…" },
      { content: "ì‘ê²Œ ì‹œì‘í•´ë„ ê´œì°®ì•„. ë©ˆì¶”ì§€ë§Œ ì•Šìœ¼ë©´ ë¼.", author: "ìµëª…" },
      { content: "ë‚¨ê³¼ ë¹„êµí•˜ì§€ ë§ê³ , ì–´ì œì˜ ë‚˜ì™€ ë¹„êµí•˜ì.", author: "ìµëª…" },
      { content: "í•  ìˆ˜ ìˆëŠ” ë§Œí¼ë§Œì´ ì•„ë‹ˆë¼, ë  ë•Œê¹Œì§€ í•´ë³´ì.", author: "ìµëª…" },
      { content: "ë¶ˆì•ˆì€ ì¤€ë¹„ ì‹ í˜¸ë‹¤. ì¤€ë¹„í•˜ë©´ ë¶ˆì•ˆì´ ì‘ì•„ì§„ë‹¤.", author: "ìµëª…" },
      { content: "ê¸°íšŒëŠ” ì¤€ë¹„ëœ ì‚¬ëŒì—ê²Œ â€˜ì¸ì‹â€™ëœë‹¤.", author: "ìµëª…" },
      { content: "ì§€ê¸ˆì˜ ì„ íƒì´ ìŠµê´€ì´ ë˜ê³ , ìŠµê´€ì´ ì¸ìƒì´ ëœë‹¤.", author: "ìµëª…" }
      // ğŸ‘‰ ì—¬ê¸°ì— ê³„ì† ì¶”ê°€ ê°€ëŠ¥ (100ê°œ ë„£ì–´ë„ ê°€ë²¼ì›€!)
    ];

    function pickLocalQuote() {
      const q = localQuotes[Math.floor(Math.random() * localQuotes.length)];
      return { content: q.content, author: q.author, source: "local" };
    }

    // Quotable: ëœë¤ ì˜ë¬¸ ëª…ì–¸ (ë¬´ë£Œ)
    async function fetchQuoteFromAPI() {
      // api.quotable.io/random í˜•íƒœë¡œ ë„ë¦¬ ì‚¬ìš©ë¨ :contentReference[oaicite:1]{index=1}
      const url = "https://api.quotable.io/random";
      const res = await fetch(url, { cache: "no-store" });
      if (!res.ok) throw new Error("API ì‘ë‹µ ì‹¤íŒ¨");
      const data = await res.json();
      return { content: data.content, author: data.author || "Unknown", source: "api:quotable" };
    }

    function renderQuote(q) {
      document.getElementById("quote").textContent = `â€œ${q.content}â€`;
      document.getElementById("quoteMeta").textContent =
        `â€” ${q.author}   Â·   ì¶œì²˜: ${q.source === "local" ? "ë‚´ì¥(ì˜¤í”„ë¼ì¸)" : "Quotable API"}`;
    }

    function nowStamp() {
      const d = new Date();
      const pad = (n) => String(n).padStart(2, "0");
      return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}`;
    }

    // âœ… 3) ë²„íŠ¼ ë™ì‘: ë¡œë˜ + ëª…ì–¸ ë™ì‹œ ì—…ë°ì´íŠ¸
    async function runAll() {
      const status = document.getElementById("status");
      status.textContent = "ì—…ë°ì´íŠ¸ ì¤‘â€¦";

      // ë¡œë˜
      const nums = drawLotto();
      renderBalls(nums);
      document.getElementById("lottoMeta").textContent = `ë½‘ì€ ì‹œê°: ${nowStamp()}`;

      // ëª…ì–¸
      try {
        const q = await fetchQuoteFromAPI();
        renderQuote(q);
        status.textContent = "ì™„ë£Œ âœ… (ëª…ì–¸: API)";
      } catch (e) {
        const q = pickLocalQuote();
        renderQuote(q);
        status.textContent = "ì™„ë£Œ âœ… (ëª…ì–¸: ë‚´ì¥)";
      }
    }

    document.getElementById("btn").addEventListener("click", runAll);
  </script>
</body>
</html>
